modules:
  consumer:
    - key: queue-consumer
      queue: operations-queue
      resolver:
        function: resolver
        method: operations-queue-listener
  jira:projectPage:
    - key: scarlet-operations-project-page
      resource: main
      resolver:
        function: resolver
      title: Scarlett Bulk Import
  function:
    - key: resolver
      handler: index.handler
resources:
  - key: main
    path: ../../packages/web/dist
permissions:
  scopes:
    - read:jira-work
    - write:jira-work
    - storage:app
  content:
    styles:
      - "unsafe-inline"
  external:
    fetch:
      client:
        - remote: iss-rem-bucket
        - remote: execution-remote
        - https://issue-reminder-app-dev-issrem-529202746267.s3.{{AWS-REGION}}.amazonaws.com
        - issue-reminder-app-dev-issrem-529202746267.s3.amazonaws.com
        - {{EXECUTION_TRIGGER_URL}}
remotes:
  - key: iss-rem-bucket
    baseUrl: https://issue-reminder-app-dev-issrem-529202746267.s3.{{AWS-REGION}}.amazonaws.com
    operations:
      - compute
      - fetch
  - key: execution-remote
    baseUrl: {{EXECUTION_TRIGGER_URL}}
    operations:
      - compute
      - fetch
app:
  runtime:
    name: nodejs20.x
  id: ari:cloud:ecosystem::app/{{APP-ID}}
